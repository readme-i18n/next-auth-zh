import { Callout } from "nextra/components"

# 限制用户访问应用权限

Auth.js 库允许通过拦截注册/登录流程来限制用户。您可以使用 `signIn` 回调函数来控制是否允许用户注册。

<Callout type="info">
  所有回调函数都是异步的，因此您还可以从数据库或外部 API 获取额外信息。
</Callout>

## 仅限公司员工使用应用

例如，可以仅允许使用公司邮箱地址的员工进行注册。

将以下代码添加到您的 Auth.js 配置中：

```ts
callbacks: {
  signIn({ profile }) {
    return profile.email.endsWith("@yourdomain.com")
  }
}
```

如果用户邮箱不以 `@yourdomain.com` 结尾，
注册流程（在使用数据库策略的情况下）将被阻止，后续的登录尝试也会被拒绝。
